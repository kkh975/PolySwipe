/*!*
 * @autor: Blim - Koo Chi Hoon(kkh975@naver.com)
 * @license http://blim.mit-license.org/
 */
 function SwipePoly(t){"use strict";function e(){var e=null,o=0;if(g=X.extend(V,t),M=X.isArray(g.wrap)?g.wrap:X.dom2Array(g.wrap),P=X.isArray(g.list)?g.list:X.dom2Array(g.list),b=X.isArray(g.pages)?g.pages:X.dom2Array(g.pages),T=X.isArray(g.toStart)?g.toStart:X.dom2Array(g.toStart),A=X.isArray(g.toStop)?g.toStop:X.dom2Array(g.toStop),L=X.isArray(g.toPrev)?g.toPrev:X.dom2Array(g.toPrev),C=X.isArray(g.toNext)?g.toNext:X.dom2Array(g.toNext),q=X.getCssPrefix(),R=P.length,M=M[0],_=M.parentNode,g.touchMinumRange=Math.max(1,Math.min(100,g.touchMinumRange)),2>R)return!1;if(!(X.hasCss3Transition()&&"addEventListener"in window))return!1;for(g.slideShowTime&&("boolean"==typeof g.slideShowTime&&(k=g.slideShowTime,k&&(g.slideShowTime=V.slideShowTime)),"string"==typeof g.slideShowTime&&(g.slideShowTime=parseInt(g.slideShowTime,10)),isNaN(g.slideShowTime)?k=!1:(k=!0,2*g.duration>=g.slideShowTime&&(g.slideShowTime=2*g.duration))),T&&X.setBtnEvent(T,g.startEvents,s),A&&X.setBtnEvent(A,g.stopEvents,r),L&&X.setBtnEvent(L,g.moveEvents,f),C&&X.setBtnEvent(C,g.moveEvents,v),b&&X.setBtnEvent(b,g.moveEvents,function(t){p(t)}),2===R&&g.loop&&(e=P[0].cloneNode(!0),P.push(e),M.appendChild(e),e=P[1].cloneNode(!0),P.push(e),M.appendChild(e),N=!0,R=4),o=P.length,window.addEventListener("load",n,!1),_.addEventListener("touchstart",K.setStart),_.addEventListener("touchmove",K.setMove),_.addEventListener("touchend",K.setEnd),_.addEventListener("touchcancel",K.setEnd),M.addEventListener(q.transitionsendJs,w,!1);--o>-1;)P[o].addEventListener("focus",r,!1),P[o].addEventListener("blur",s,!1);return!0}function n(){var t="",e=0,n=0,o=0,r=0,i=0;for(I=_.offsetWidth,B=Math.sqrt(2*Math.pow(I,2)),Y=360/R,j=Y/2,D=-j,z=Y*R,o=j,e=(180-Y)/2,e=Math.sin(X.getRadius(90-e)),n=I/2,B=I/Math.abs(e)/2,B=Math.sqrt(Math.pow(B,2)-Math.pow(n,2)),X.setCss3(_,"perspective",2*I+"px"),X.setCss3(_,"user-select","none"),t="position: relative; ",t+="width: 100%; ",t+="height: 100%; ",M.style.cssText=t,X.setCss3(M,"transform-style","preserve-3d"),X.setCss3(M,"backface-visibility","hidden"),X.setListTransition(0,0),i=0,r=R;r>i;i++)t="position: absolute; ",t+="width: 100%; ",t+="height: 100%; ",P[i].style.cssText=t,X.setCss3(P[i],"transform","rotateY("+o+"deg) translateZ("+B+"px)"),o+=Y;s(),"function"==typeof g.create&&g.create(a())}function o(){var t=P.length;for(window.removeEventListener("load",n,!1),_.removeEventListener("touchstart",K.setStart),_.removeEventListener("touchmove",K.setMove),_.removeEventListener("touchend",K.setEnd),_.removeEventListener("touchcancel",K.setEnd),M.removeEventListener(q.transitionsendJs,w,!1);--t>-1;)P[t].removeEventListener("focus",r,!1),P[t].removeEventListener("blur",s,!1)}function s(){k&&null===$&&($=setInterval(v,g.slideShowTime))}function r(){clearInterval($),$=null}function i(){I=_.offsetWidth}function a(){return O}function u(t){O=t}function l(){return W}function c(t){W=t}function d(){var t=a();return--t<0&&(t=g.loop?R-1:-1),t}function h(){var t=a();return++t>R-1&&(t=g.loop?0:-1),t}function f(){p(d(),"prev")}function v(){p(h(),"next")}function p(t,e){var n=a(),o=t-n,s=1===arguments.length;return J?!1:t===n?!1:0>t||t>R-1?!1:N&&s&&(t>1||t%2===n%2)?!1:("undefined"==typeof e?e=o>0?"next":"prev":Math.abs(o)===R-1&&(o=1),N&&s&&t%2===1&&n%2===0&&(e="next"),c(t),m(),void y(o,e))}function m(){var t=a();S(),"function"==typeof g.before&&g.before(N?t%2:t)}function y(t,e){var n=Math.abs(t),o=("next"===e?-1*n:n)*Y;X.setListTransition(g.duration,o,!0)}function w(){var t=0;u(l()),t=a(),x(),"function"==typeof g.active&&g.active(N?t%2:t)}function S(){J=!0,r()}function x(){J=!1,s()}var E=100,g=null,_=null,M=null,P=null,b=null,T=null,A=null,L=null,C=null,$=null,N=!1,k=!1,J=!1,I=0,R=0,B=0,j=0,Y=0,z=0,D=0,O=0,W=0,q={},V={wrap:null,list:null,pages:null,toStart:null,toStop:null,toPrev:null,toNext:null,startEvents:"click",stopEvents:"click",moveEvents:"click",pageEvents:"click",slideShowTime:3e3,touchMinumRange:10,loop:!0,duration:500,create:null,before:null,active:null},X={extend:function(t,e){var n=null,o={};for(n in t)o[n]=n in e?e[n]:t[n];return o},isArray:function(t){return t?"[object Array]"===Object.prototype.toString.call(t):!1},trim:function(t){return t.replace(/(^\s*)|(\s*$)/gi,"")},dom2Array:function(t){return t.length>0?Array.prototype.slice.call(t):[t]},getRadius:function(t){return t*(Math.PI/180)},getCssPrefix:function(){var t=["-webkit-transition","transition"],e=["-webkit-transform","transform"],n=["webkitTransition","transition"],o=["webkitTransform","transform"],s=["webkitTransitionEnd","transitionend"],r=window.getComputedStyle(document.body,""),i=(Array.prototype.slice.call(r).join("").match(/-(webkit|moz|ms|o)-/)||""===r.OLink&&["","o"])[1],a="WebKit|Moz|MS|O".match(new RegExp("("+i+")","i"))[1],u="webkit"===i;return{prefixCss:i,prefixJs:a.toLowerCase(),transitionsCss:t[u?0:1],transformsCss:e[u?0:1],transformsJs:o[u?0:1],transitionsJs:n[u?0:1],transitionsendJs:s[u?0:1]}},hasCss3Transition:function(){var t=document.createElement("div"),e=t.style;return q.transitionsJs in e},setListTransition:function(t,e,n){var o=D;e&&(o+=e),X.setCss3Transition(M,t,o),n&&(D=o)},setCss3Transition:function(t,e,n){X.setCss3(t,"transition",e+"ms"),X.setCss3(t,"transform","scale(0.75) rotateY("+n+"deg)")},setCss3:function(t,e,n){var o=t.style;"transition"===e?o[q.transitionsJs]=n:"transform"===e?o[q.transformsJs]=n:(o[e]=n,o["-"+q.prefixJs+"-"+e]=n)},setBtnEvent:function(t,e,n){for(var o=e.split(","),s=o.length,r=t.length,i="";--s>-1;)for(;--r>-1;)i=X.trim(o[s]),function(e){t[r].addEventListener(i,function(t){n(e),t.preventDefault()})}(r)}},K={is_touch_start:!1,touch_start_x:0,touch_start_y:0,move_dx:0,setInitVaiable:function(){K.is_touch_start=!1,K.touch_start_x=0,K.touch_start_y=0,K.move_dx=0},canPrevMove:function(){return g.loop||-1!==d()?!0:!1},canNextMove:function(){var t=h(),e=(N?R-2:R)-1;return!g.loop&&(-1===t||t>e)?!1:!0},setStart:function(t){return K.is_touch_start||J?!1:(S(),void(K.is_touch_start||"touchstart"!==t.type||1!==t.touches.length||(K.is_touch_start=!0,K.touch_start_x=t.touches[0].pageX,K.touch_start_y=t.touches[0].pageY,t.preventDefault())))},setMove:function(t){var e=0,n=0;K.is_touch_start&&"touchmove"===t.type&&1===t.touches.length&&(e=t.touches[0].pageX-K.touch_start_x,n=t.touches[0].pageY-K.touch_start_y,K.move_dx=e/I*100,Math.abs(e)>Math.abs(n)&&(K.move_dx=Math.max(-E,Math.min(E,K.move_dx)),X.setListTransition(0,K.move_dx)),t.preventDefault())},setEnd:function(t){var e=Math.abs(K.move_dx)>g.touchMinumRange,n=K.move_dx<0,o=n?K.canNextMove():K.canPrevMove();K.is_touch_start&&"touchend"===t.type&&(e&&o?(J=!1,n?v():f()):X.setListTransition(g.duration,0)),"touchcancel"===t.type&&(J=!1),K.setInitVaiable()}};return e()?{startSlideShow:s,stopSlideShow:r,refreshSize:i,getIdx:a,toNext:v,toPrev:f,toSlide:p,destory:o}:void 0}!function(t){"use strict";t.fn.swipePoly=function(e){return e.$list=e.$list?e.$list:t(this).find("> ul > li"),e.$wrap=e.$wrap?e.$wrap:t(this).find("> ul"),e.wrap=e.$wrap?e.$wrap.toArray():[],e.list=e.$list?e.$list.toArray():[],e.pages=e.$pages?e.$pages.toArray():[],e.toStart=e.$toStart?e.$toStart.toArray():[],e.toStop=e.$toStop?e.$toStop.toArray():[],e.toPrev=e.$toPrev?e.$toPrev.toArray():[],e.toNext=e.$toNext?e.$toNext.toArray():[],this.each(function(){t(this).data("swipePoly",new SwipePoly(e))})},t.fn.swipePoly2start=function(){return this.each(function(){t(this).data("swipePoly").startSlideShow()})},t.fn.swipePoly2stop=function(){return this.each(function(){t(this).data("swipePoly").stopSlideShow()})},t.fn.swipePoly2prev=function(){return this.each(function(){t(this).data("swipePoly").toPrev()})},t.fn.swipePoly2next=function(){return this.each(function(){t(this).data("swipePoly").toNext()})},t.fn.swipePoly2slide=function(e){return this.each(function(){t(this).data("swipePoly").toSlide(e)})},t.fn.swipePoly2destory=function(){return this.each(function(){t(this).data("swipePoly").destory()})}}(jQuery);